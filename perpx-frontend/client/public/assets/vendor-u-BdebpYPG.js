import{b as k,r as S}from"./react-Csfw9abt.js";import{a as C,_ as R}from"./vendor-t-46smTYR4.js";var E={exports:{}},y={};var w;function _(){if(w)return y;w=1;var r=k();function t(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var e=typeof Object.is=="function"?Object.is:t,n=r.useState,f=r.useEffect,c=r.useLayoutEffect,u=r.useDebugValue;function i(a,o){var l=o(),m=n({inst:{value:l,getSnapshot:o}}),s=m[0].inst,p=m[1];return c(function(){s.value=l,s.getSnapshot=o,v(s)&&p({inst:s})},[a,l,o]),f(function(){return v(s)&&p({inst:s}),a(function(){v(s)&&p({inst:s})})},[a]),u(l),l}function v(a){var o=a.getSnapshot;a=a.value;try{var l=o();return!e(a,l)}catch{return!0}}function h(a,o){return o()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:i;return y.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,y}var x;function q(){return x||(x=1,E.exports=_()),E.exports}var O=q();function g(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function I(r,t){var e=S.useState(function(){return{value:r,callback:t,facade:{get current(){return e.value},set current(n){var f=e.value;f!==n&&(e.value=n,e.callback(n,f))}}}})[0];return e.callback=t,e.facade}var V=typeof window<"u"?S.useLayoutEffect:S.useEffect,b=new WeakMap;function Q(r,t){var e=I(null,function(n){return r.forEach(function(f){return g(f,n)})});return V(function(){var n=b.get(e);if(n){var f=new Set(n),c=new Set(r),u=e.current;f.forEach(function(i){c.has(i)||g(i,null)}),c.forEach(function(i){f.has(i)||g(i,u)})}b.set(e,r)},[r]),e}function L(r){return r}function j(r,t){t===void 0&&(t=L);var e=[],n=!1,f={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:r},useMedium:function(c){var u=t(c,n);return e.push(u),function(){e=e.filter(function(i){return i!==u})}},assignSyncMedium:function(c){for(n=!0;e.length;){var u=e;e=[],u.forEach(c)}e={push:function(i){return c(i)},filter:function(){return e}}},assignMedium:function(c){n=!0;var u=[];if(e.length){var i=e;e=[],i.forEach(c),u=e}var v=function(){var d=u;u=[],d.forEach(c)},h=function(){return Promise.resolve().then(v)};h(),e={push:function(d){u.push(d),h()},filter:function(d){return u=u.filter(d),e}}}};return f}function $(r){r===void 0&&(r={});var t=j(null);return t.options=C({async:!0,ssr:!1},r),t}var M=function(r){var t=r.sideCar,e=R(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,C({},e))};M.isSideCarExport=!0;function G(r,t){return r.useMedium(t),M}export{$ as c,G as e,O as s,Q as u};
